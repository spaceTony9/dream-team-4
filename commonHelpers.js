import"./assets/header-chenges-theme-30641084.js";import{a as g,i as y,b as f,g as S}from"./assets/vendor-85b191d9.js";const c={MAIN_URl:"https://books-backend.p.goit.global/books/",CATEGORY_LIST_URL:"https://books-backend.p.goit.global/books/category-list",POPULAR_BOOKS_ALL_CATEGORIES:"https://books-backend.p.goit.global/books/top-books",SELECTED_CATEGORY:"https://books-backend.p.goit.global/books/category"};async function l(t,e){return await g.get(t,{params:{category:e}})}function p(){return y.show({message:"We were not able to fetch your data. Try again!",messageColor:"white",backgroundColor:"#EF4040",position:"topRight"})}const a=document.querySelector(".main-page-books-section");document.querySelector(".best-sellers-books-section");const T=document.querySelector(".best-sellers-header"),E=document.querySelector(".categories");let d=null;async function m(){return await l(c.POPULAR_BOOKS_ALL_CATEGORIES).then(({data:t})=>{if(t.length)return T.innerHTML="Best Sellers <span>Books</span>",a.innerHTML=C(t),d=document.querySelectorAll(".book-shelf-container"),d.forEach((e,o)=>{const n=t[o];return e.innerHTML=v([n]),t}),L(),t;p()}).catch(t=>console.log(t))}function C(t){return t.map(e=>`<div class="book-shelf">
      <p class="book-shelf-category">${e.list_name}</p>
      <div class="book-shelf-container"></div>
      <button class="see-more-btn" type="button" data-category="${e.list_name}">SEE MORE</button>
    </div>`).join("")}function L(){return a.addEventListener("click",t=>{t.target.nodeName==="BUTTON"&&t.target.hasAttribute("data-category")&&l(c.SELECTED_CATEGORY,t.target.getAttribute("data-category")).then(({data:e})=>{e.length?(t.stopPropagation(),a.innerHTML="",a.classList.add("book-grid"),a.innerHTML=b(e)):p()}).catch(e=>console.error(e))})}function B(){return E.addEventListener("click",t=>{t.target.nodeName==="BUTTON"&&t.target.hasAttribute("data-id")?l(c.SELECTED_CATEGORY,t.target.getAttribute("data-id")).then(({data:e})=>{t.stopPropagation(),a.innerHTML="",a.classList.add("book-grid"),a.innerHTML=b(e)}).catch(e=>console.error(e)):t.target.nodeName==="BUTTON"&&t.target.hasAttribute("name")&&m()})}function v(t){return t.map((e,o)=>e.books.map((n,r)=>{let i;window.innerWidth<768?i=1:window.innerWidth<1440?i=3:i=5;const h=window.innerWidth<768&&r===0,k=r<i;return`<div class="book-card-container${h?" marked":""}" style="display: ${k?"block":"none"};"><a class="book-item-link" href="#" data-bookid="${n._id}">
            <img class="book-card-img" src="${n.book_image}" alt="" />
            <h2 class="book-card-title">${n.title}</h2>
            <p class="book-card-author">${n.author}</p>
              </div>`}).join(""))}function b(t){const e=document.querySelector(".best-sellers-header");e.textContent=t[0].list_name;const o=e.textContent.split(" "),n=o.pop();return e.innerHTML=o.join(" ")+' <span style="color: #4f2ee8;">'+n+"</span>",t.map(r=>`<div class="book-card-container" ><a class="book-item-link" href="#" data-bookid="${r._id}">
            <img class="book-card-img" src="${r.book_image}" alt="" />
            <h2 class="book-card-title">${r.title}</h2>
            <p class="book-card-author">${r.author}</p></div>`).join("")}m();const _={apiKey:"AIzaSyA3hADlXiNs1sXdUxR8pbsxRLOErTEmqfU",authDomain:"authorisation-3967f.firebaseapp.com",projectId:"authorisation-3967f",storageBucket:"authorisation-3967f.appspot.com",messagingSenderId:"926560198246",appId:"1:926560198246:web:e18f20ad2d2adfa37e97a7"},A=f(_);S(A);function u(){return{scrollToTopButton:document.querySelector(".back-to-top"),toTopTarget:document.querySelector(".to-topchik"),supportUkraineCnt:document.querySelector(".support-list"),divEl:document.querySelector(".shopping__list"),paginationsSection:document.querySelector(".paginations"),paginationContainerPages:document.querySelector(".paginations__container-pages"),paginationContainerBackBtn:document.querySelector(".paginations__container-back"),paginationContainerEndBtn:document.querySelector(".paginations__container-end"),startButton:document.querySelector("button[name='startButton']"),previousButton:document.querySelector("button[name='previousButton']"),nextButton:document.querySelector("button[name='nextButton']"),endButton:document.querySelector("button[name='endButton']"),activButton:document.querySelector(".active"),allCategoriesBtn:document.querySelector("button[name=allcategories]"),categoryListEl:document.querySelector(".categories_list"),categoriesListContainer:document.querySelector(".categories"),categoryContainerEl:document.querySelector(".content-rendering-container")}}const{categoriesListContainer:q}=u();q.addEventListener("click",O);function O(t){if(t.preventDefault(),t.target.nodeName!=="BUTTON")return;const e=t.target,o=document.querySelector(".active-category");o&&o!==e&&o.classList.remove("active-category"),e.classList.add("active-category")}const{categoryListEl:w}=u();async function R(){try{const{data:t}=await g.get("https://books-backend.p.goit.global/books/category-list");return t}catch(t){console.log(t)}}async function U(){try{const e=(await R()).sort((o,n)=>o.list_name.localeCompare(n.list_name));for(const o of e){const n=document.createElement("li"),r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("category-btn"),r.textContent=`${o.list_name}`,r.setAttribute("data-id",o.list_name),w.appendChild(n),n.appendChild(r)}}catch(t){console.log(t)}}U();B();const{scrollToTopButton:s,toTopTarget:$}=u(),M=new IntersectionObserver(N);function N(t){t.forEach(e=>{e.isIntersecting?s.classList.add("hidden"):s.classList.remove("hidden")})}function H(t){window.scroll({top:0,behavior:"smooth"})}M.observe($);s.addEventListener("click",H);
//# sourceMappingURL=commonHelpers.js.map
