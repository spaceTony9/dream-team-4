var d=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var a=(t,e,o)=>(d(t,e,"read from private field"),o?o.call(t):e.get(t)),u=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};import{a as n}from"./assets/vendor-0cb09735.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))g(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&g(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function g(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();var i;class f{constructor(e,o){u(this,i,"https://books-backend.p.goit.global/");this.selectedCategory=e,this.bookId=o}fetchBooksCategoryList(){return n.get(`${a(this,i)}books/category-list`)}fetchBestSellersBooks(){return n.get(`${a(this,i)}books/top-books`)}fetchBooksByCategory(e){return n.get(`${a(this,i)}books/category?category=${e}`)}fetchBookInfo(e){return n.get(`${a(this,i)}books/${e}`)}}i=new WeakMap;const y=new f,l=document.querySelector(".book-category__list");async function h(){try{Loading.standard("Loading...");const t=await y.fetchBooksCategoryList();if(!t.ok)throw new Error("Failed to fetch book categories");return Loading.remove("Loading..."),await t.data}catch(t){throw console.error("Error fetching book categories:",t),reportsFailure("Sorry, something went wrong. Please try again later."),t}}async function m(){try{const e=(await h()).map(o=>`<li class="book-category__list-item">${o.list_name}</li>`).join("");l.insertAdjacentHTML("beforeend",e)}catch(t){console.error("Error getting book categories:",t),reportsFailure("Sorry, something went wrong. Please try again later.")}}l&&(m(),l.addEventListener("click",p));async function p(t){try{if(t.target.nodeName!=="LI")return;const e=t.target.textContent;k(e),e!=="All categories"?await createMarkup(e):await renderCategories()}catch(e){console.error("Error processing category selection:",e),reportsFailure("Sorry, something went wrong. Please try again later.")}}function k(t){const e=document.querySelectorAll(".book-category__list-item");for(const o of e)o.textContent===t?o.classList.add("active"):o.classList.remove("active")}document.querySelector("");
//# sourceMappingURL=commonHelpers.js.map
