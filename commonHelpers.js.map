{"version":3,"file":"commonHelpers.js","sources":["../src/js/constants.js","../src/js/api-service.js","../src/js/categories-menu/notifications.js","../src/js/render-books-section.js","../src/js/firebase.js","../src/js/refs.js","../src/js/categories-menu/activeCategoriesList.js","../src/js/categories-menu/renderCategoriesList.js","../src/js/scroll-Up.js"],"sourcesContent":["export const CONSTANTS = {\n  MAIN_URl: 'https://books-backend.p.goit.global/books/',\n  CATEGORY_LIST_URL: 'https://books-backend.p.goit.global/books/category-list',\n  POPULAR_BOOKS_ALL_CATEGORIES:\n    'https://books-backend.p.goit.global/books/top-books',\n  SELECTED_CATEGORY: 'https://books-backend.p.goit.global/books/category',\n};\n","import axios from 'axios';\n\n//usage example:\n// urlCreator(CONSTANTS.POPULAR_BOOKS_ALL_CATEGORIES)\n//   .then(({ data }) => {\n//     console.log(data);\n//   })\n//   .catch(error => console.log(error));\n\nexport async function urlCreator(url, category) {\n  const getUrl = await axios.get(url, {\n    params: {\n      category,\n    },\n  });\n  return getUrl;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function notificationError() {\n  return iziToast.show({\n    message: 'We were not able to fetch your data. Try again!',\n    messageColor: 'white',\n    backgroundColor: '#EF4040',\n    position: 'topRight',\n  });\n}\n","import { CONSTANTS } from './constants';\nimport { urlCreator } from './api-service';\nimport { notificationError } from './categories-menu/notifications';\nconst booksSection = document.querySelector('.main-page-books-section');\nconst bestBooksSection = document.querySelector('.best-sellers-books-section');\nconst mainPageHeader = document.querySelector('.best-sellers-header');\nconst categoriesContainer = document.querySelector('.categories');\n\nlet bookShelfContainer = null;\n\n//Just export this function to your code and call it\nexport async function markupPopularBooks() {\n  return await urlCreator(CONSTANTS.POPULAR_BOOKS_ALL_CATEGORIES) // Calling api service to deliver popular books\n    .then(({ data }) => {\n      if (data.length) {\n        mainPageHeader.innerHTML = 'Best Sellers <span>Books</span>';\n        booksSection.innerHTML = createBookShelf(data);\n        bookShelfContainer = document.querySelectorAll('.book-shelf-container');\n        bookShelfContainer.forEach((container, index) => {\n          const categoryData = data[index]; // Get the data for the current category\n          container.innerHTML = fillBookShelf([categoryData]);\n\n          return data;\n        });\n        markupBooksAfterSeeMoreBtn();\n        return data;\n      } else {\n        notificationError();\n      }\n    })\n    .catch(error => console.log(error));\n}\n\nfunction createBookShelf(array) {\n  // function creates div wrapper with name of the books category\n  return array\n    .map(\n      book => `<div class=\"book-shelf\">\n      <p class=\"book-shelf-category\">${book.list_name}</p>\n      <div class=\"book-shelf-container\"></div>\n      <button class=\"see-more-btn\" type=\"button\" data-category=\"${book.list_name}\">SEE MORE</button>\n    </div>`\n    )\n    .join('');\n}\n// this function fills previously created bookshelves\n\nexport function markupBooksAfterSeeMoreBtn() {\n  return booksSection.addEventListener('click', e => {\n    if (\n      e.target.nodeName === 'BUTTON' &&\n      e.target.hasAttribute('data-category')\n    ) {\n      urlCreator(\n        CONSTANTS.SELECTED_CATEGORY,\n        e.target.getAttribute('data-category')\n      )\n        .then(({ data }) => {\n          if (data.length) {\n            e.stopPropagation();\n            booksSection.innerHTML = '';\n            booksSection.classList.add('book-grid');\n            booksSection.innerHTML = markupSelectedCategory(data);\n          } else {\n            notificationError()\n          }\n        })\n        .catch(error => console.error(error));\n    }\n  });\n}\n\nexport function markupCategories() {\n  return categoriesContainer.addEventListener('click', e => {\n    if (e.target.nodeName === 'BUTTON' && e.target.hasAttribute('data-id')) {\n      urlCreator(CONSTANTS.SELECTED_CATEGORY, e.target.getAttribute('data-id'))\n        .then(({ data }) => {\n          e.stopPropagation();\n          booksSection.innerHTML = '';\n          booksSection.classList.add('book-grid');\n          booksSection.innerHTML = markupSelectedCategory(data);\n        })\n        .catch(error => console.error(error));\n    } else if (\n      e.target.nodeName === 'BUTTON' &&\n      e.target.hasAttribute('name')\n    ) {\n      markupPopularBooks();\n    }\n  });\n}\n\nfunction fillBookShelf(array) {\n  return array.map((book, index) => {\n    return book.books\n      .map((bookdata, innerIndex) => {\n        let numElements;\n        if (window.innerWidth < 768) {\n          numElements = 1; // For less than 768px, show only 1 element\n        } else if (window.innerWidth < 1440) {\n          numElements = 3; // For less than 1440px, show 3 elements\n        } else {\n          numElements = 5; // For more than 1440px, show 5 elements\n        }\n\n        const isMarked = window.innerWidth < 768 && innerIndex === 0; // Mark the first item for less than 768px\n\n        const isDisplayed = innerIndex < numElements; // Display only required number of elements based on screen width\n\n        return `<div class=\"book-card-container${\n          isMarked ? ' marked' : ''\n        }\" style=\"display: ${\n          isDisplayed ? 'block' : 'none'\n        };\"><a class=\"book-item-link\" href=\"#\" data-bookid=\"${bookdata._id}\">\n            <img class=\"book-card-img\" src=\"${bookdata.book_image}\" alt=\"\" />\n            <h2 class=\"book-card-title\">${bookdata.title}</h2>\n            <p class=\"book-card-author\">${bookdata.author}</p>\n              </div>`;\n      })\n      .join('');\n  });\n}\n\nfunction markupSelectedCategory(array) {\n  const bookCategoryHeader = document.querySelector('.best-sellers-header');\n  bookCategoryHeader.textContent = array[0].list_name; // Set category name once, assuming all books belong to the same category\n\n  // Split the category name into words\n  const words = bookCategoryHeader.textContent.split(' ');\n\n  // Get the last word\n  const lastWord = words.pop();\n\n  // Join the words back together with a span around the last word\n  bookCategoryHeader.innerHTML =\n    words.join(' ') + ' <span style=\"color: #4f2ee8;\">' + lastWord + '</span>';\n\n  return array\n    .map(bookdata => {\n      return `<div class=\"book-card-container\" ><a class=\"book-item-link\" href=\"#\" data-bookid=\"${bookdata._id}\">\n            <img class=\"book-card-img\" src=\"${bookdata.book_image}\" alt=\"\" />\n            <h2 class=\"book-card-title\">${bookdata.title}</h2>\n            <p class=\"book-card-author\">${bookdata.author}</p></div>`;\n    })\n    .join('');\n}\n\n// function fillBookShelf(array) {\n//   return array.map(book =>\n//     book.books\n//       .map(bookdata => {\n//         return `<div class=\"book-card-container \">\n//     <a class=\"book-item-link\" href=\"#\" data-bookid=\"${bookdata._id}\">\n//   <img class=\"book-card-img\" src=\"${bookdata.book_image}\" alt=\"\" />\n//   <h2 class=\"book-card-title\">${bookdata.title}</h2>\n//   <p class=\"book-card-author\">${bookdata.author}</p>\n// </div>`;\n//       })\n//       .join('')\n//   );\n// }\nmarkupPopularBooks();\n\n// function afterSeeMoreBtnPressed(array) {\n//   return array\n//     .map(\n//       book => `<div class=\"book-card-container\"><img class=\"book-card-img\" src=\"${bookdata.book_image}\" alt=\"\" />\n//                 <h2 class=\"book-card-title\">${bookdata.title}</h2>\n//                 <p class=\"book-card-author\">${bookdata.author}</p></div>`\n//     )\n//     .join('');\n// }\n","import './signin'\n// Import necessary Firebase modules\nimport { initializeApp } from 'firebase/app';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n} from 'firebase/auth';\n// Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyA3hADlXiNs1sXdUxR8pbsxRLOErTEmqfU',\n  authDomain: 'authorisation-3967f.firebaseapp.com',\n  projectId: 'authorisation-3967f',\n  storageBucket: 'authorisation-3967f.appspot.com',\n  messagingSenderId: '926560198246',\n  appId: '1:926560198246:web:e18f20ad2d2adfa37e97a7',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n\n// Function to handle sign-up\nasync function signUp(event) {\n  event.preventDefault();\n  const name = document.getElementById('signup-name').value;\n  const email = document.getElementById('signup-email').value;\n  const password = document.getElementById('signup-password').value;\n\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    const user = userCredential.user;\n    // Update display name\n    await updateProfile(user, { displayName: name });\n    console.log('Signed up:', user);\n    // Optionally, you can redirect the user to a new page after sign-up\n    // window.location.href = '/welcome.html';\n  } catch (error) {\n    // Handle sign-up errors\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error('Sign up error:', errorMessage);\n  }\n}\n\n// Function to initialize sign-up form","export default function () {\n  return {\n    scrollToTopButton: document.querySelector('.back-to-top'),\n    toTopTarget: document.querySelector('.to-topchik'),\n\n    supportUkraineCnt: document.querySelector('.support-list'),\n\n    divEl: document.querySelector('.shopping__list'),\n    paginationsSection: document.querySelector('.paginations'),\n    paginationContainerPages: document.querySelector(\n      '.paginations__container-pages'\n    ),\n    paginationContainerBackBtn: document.querySelector(\n      '.paginations__container-back'\n    ),\n    paginationContainerEndBtn: document.querySelector(\n      '.paginations__container-end'\n    ),\n    startButton: document.querySelector(\"button[name='startButton']\"),\n    previousButton: document.querySelector(\"button[name='previousButton']\"),\n    nextButton: document.querySelector(\"button[name='nextButton']\"),\n    endButton: document.querySelector(\"button[name='endButton']\"),\n    activButton: document.querySelector('.active'),\n\n    allCategoriesBtn: document.querySelector('button[name=allcategories]'),\n    categoryListEl: document.querySelector('.categories_list'),\n    categoriesListContainer: document.querySelector('.categories'),\n    categoryContainerEl: document.querySelector('.content-rendering-container'),\n  };\n}\n","import getRefs from '../refs';\n\nconst { categoriesListContainer } = getRefs();\n\ncategoriesListContainer.addEventListener('click', activeCatBtnSwitch);\n\nfunction activeCatBtnSwitch(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const activeBtn = e.target;\n  const prevActiveBtn = document.querySelector('.active-category');\n\n  if (prevActiveBtn && prevActiveBtn !== activeBtn) {\n    prevActiveBtn.classList.remove('active-category');\n  }\n\n  activeBtn.classList.add('active-category');\n}\n","import axios from 'axios';\nimport getRefs from '../refs';\nimport { markupCategories } from '../render-books-section';\nconst { categoryListEl } = getRefs();\n// const categoriesContainer = document.querySelector('.categories');\nasync function categoriesArray() {\n  try {\n    const { data } = await axios.get(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function renderCategories() {\n  try {\n    const array = await categoriesArray();\n    const inAlphabeticalOrder = array.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n\n    for (const arr of inAlphabeticalOrder) {\n      const listItem = document.createElement('li');\n      const catBtn = document.createElement('button');\n      catBtn.setAttribute('type', 'button');\n      catBtn.classList.add('category-btn');\n      catBtn.textContent = `${arr.list_name}`;\n      catBtn.setAttribute('data-id', arr.list_name);\n      categoryListEl.appendChild(listItem);\n      listItem.appendChild(catBtn);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderCategories();\nmarkupCategories();\n","import getRefs from './refs';\nconst { scrollToTopButton, toTopTarget } = getRefs();\n\nexport const toTopObserver = new IntersectionObserver(cb);\n\nfunction cb(entries) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      scrollToTopButton.classList.remove('hidden');\n    } else {\n      scrollToTopButton.classList.add('hidden');\n    }\n  });\n}\n\nexport function scrollToTop(event) {\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\ntoTopObserver.observe(toTopTarget);\nscrollToTopButton.addEventListener('click', scrollToTop);\n"],"names":["CONSTANTS","urlCreator","url","category","axios","notificationError","iziToast","booksSection","mainPageHeader","categoriesContainer","bookShelfContainer","markupPopularBooks","data","createBookShelf","container","index","categoryData","fillBookShelf","markupBooksAfterSeeMoreBtn","error","array","book","e","markupSelectedCategory","markupCategories","bookdata","innerIndex","numElements","isMarked","isDisplayed","bookCategoryHeader","words","lastWord","firebaseConfig","app","initializeApp","getAuth","getRefs","categoriesListContainer","activeCatBtnSwitch","activeBtn","prevActiveBtn","categoryListEl","categoriesArray","renderCategories","inAlphabeticalOrder","a","b","arr","listItem","catBtn","scrollToTopButton","toTopTarget","toTopObserver","cb","entries","entry","scrollToTop","event"],"mappings":"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"}