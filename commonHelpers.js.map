{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-books-section.js"],"sourcesContent":["import { CONSTANTS } from './constants';\nimport { urlCreator } from './api-service';\n\nconst booksSection = document.querySelector('.main-page-books-section');\n\nlet bookShelfContainer = null;\n\n//Just export this function to your code and call it\nexport async function markupPopularBooks() {\n  return await urlCreator(CONSTANTS.POPULAR_BOOKS_ALL_CATEGORIES)\n    .then(({ data }) => {\n      //receiving the responce from api and marking the result\n      booksSection.insertAdjacentHTML('beforeend', createBookShelf(data));\n      bookShelfContainer = document.querySelector('.book-shelf-container');\n      bookShelfContainer.insertAdjacentHTML('beforeend', fillBookShelf(data));\n    })\n    .catch(error => console.log(error));\n}\n\n// Calling api service to deliver popular books\n\nfunction createBookShelf(array) {\n  // function creates div wrapper with name of the books category\n  return array\n    .map(\n      book => `<div class=\"book-shelf\">\n      <p class=\"book-shelf-category\">${book.list_name}</p>\n      <div class=\"book-shelf-container\"></div>\n    </div>`\n    )\n    .join('');\n}\n// this function fills previously created bookshelves\nfunction fillBookShelf(array) {\n  return array.map(book =>\n    book.books\n      .map(bookdata => {\n        return `<div>\n  <img src=\"${bookdata.book_image}\" alt=\"\" />\n  <h2>${bookdata.title}</h2>\n  <p>${bookdata.author}</p>\n</div>`;\n      })\n      .join('')\n  );\n}\n\n"],"names":[],"mappings":"ssBAGqB,SAAS,cAAc,0BAA0B"}