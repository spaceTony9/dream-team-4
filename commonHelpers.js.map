{"version":3,"file":"commonHelpers.js","sources":["../src/js/constants.js","../src/js/api-service.js","../src/js/render-books-section.js","../src/js/firebase.js"],"sourcesContent":["export const CONSTANTS = {\n  MAIN_URl:\n    'https://books-backend.p.goit.global/books/',\n  CATEGORY_LIST_URL: 'https://books-backend.p.goit.global/books/category-list',\n  POPULAR_BOOKS_ALL_CATEGORIES:\n    'https://books-backend.p.goit.global/books/top-books',\n  SELECTED_CATEGORY: 'https://books-backend.p.goit.global/books/category',\n};\n","import axios from 'axios';\n\n\n//usage example: \n// urlCreator(CONSTANTS.POPULAR_BOOKS_ALL_CATEGORIES)\n//   .then(({ data }) => {\n//     console.log(data);\n//   })\n//   .catch(error => console.log(error));\n\n\nexport async function urlCreator(url, category) {\n  const getUrl = await axios.get(url, {\n    params: {\n      category\n    },\n  });\n  return getUrl;\n}\n","import { CONSTANTS } from './constants';\nimport { urlCreator } from './api-service';\n\nconst booksSection = document.querySelector('.main-page-books-section');\n\nlet bookShelfContainer = null;\n\n//Just export this function to your code and call it\nexport async function markupPopularBooks() {\n  return await urlCreator(CONSTANTS.POPULAR_BOOKS_ALL_CATEGORIES) // Calling api service to deliver popular books\n    .then(({ data }) => {\n      //receiving the responce from api and marking the result\n      booksSection.innerHTML = createBookShelf(data);\n      bookShelfContainer = document.querySelectorAll('.book-shelf-container');\n      bookShelfContainer.forEach((container, index) => {\n        const categoryData = data[index]; // Get the data for the current category\n        container.innerHTML = fillBookShelf([categoryData]);\n      });\n      return data;\n    })\n    .then(data => {\n      booksSection.addEventListener('click', e => {\n        if (\n          e.target.nodeName === 'BUTTON' &&\n          e.target.hasAttribute('data-category')\n        ) {\n          const category = e.target.getAttribute('data-category');\n          const categoryData = data.find(item => item.list_name === category);\n          booksSection.innerHTML = '';\n          // Add more books to the container\n          booksSection.innerHTML += fillBookShelf([categoryData]);\n        }\n      });\n      console.log(data);\n    })\n    .catch(error => console.log(error));\n}\n\nbooksSection.addEventListener('click', e => {\n  if (\n    e.target.nodeName === 'BUTTON' &&\n    e.target.hasAttribute('data-category')\n  ) {\n    console.log('hello');\n    // const category = e.target.getAttribute('data-category');\n    // const categoryData = data.find(item => item.list_name === category);\n    // booksSection.innerHTML = '';\n    // // Add more books to the container\n    // booksSection.innerHTML += fillBookShelf([categoryData]);\n  }\n});\n\nfunction createBookShelf(array) {\n  // function creates div wrapper with name of the books category\n  return array\n    .map(\n      book => `<div class=\"book-shelf\">\n      <p class=\"book-shelf-category\">${book.list_name}</p>\n      <div class=\"book-shelf-container\"></div>\n      <button class=\"see-more-btn\" type=\"button\" data-category=\"${book.list_name}\">SEE MORE</button>\n    </div>`\n    )\n    .join('');\n}\n\nfunction fillBookShelf(array) {\n  return array.map((book, index) => {\n    return book.books\n      .map((bookdata, innerIndex) => {\n        let numElements;\n        if (window.innerWidth < 768) {\n          numElements = 1; // For less than 768px, show only 1 element\n        } else if (window.innerWidth < 1440) {\n          numElements = 3; // For less than 1440px, show 3 elements\n        } else {\n          numElements = 5; // For more than 1440px, show 5 elements\n        }\n\n        const isMarked = window.innerWidth < 768 && innerIndex === 0; // Mark the first item for less than 768px\n\n        const isDisplayed = innerIndex < numElements; // Display only required number of elements based on screen width\n\n        return `<div class=\"book-card-container${\n          isMarked ? ' marked' : ''\n        }\" style=\"display: ${isDisplayed ? 'block' : 'none'};\">\n                <img class=\"book-card-img\" src=\"${\n                  bookdata.book_image\n                }\" alt=\"\" />\n                <h2 class=\"book-card-title\">${bookdata.title}</h2>\n                <p class=\"book-card-author\">${bookdata.author}</p>\n              </div>`;\n      })\n      .join('');\n  });\n}\n\nmarkupPopularBooks();\n\n// function afterSeeMoreBtnPressed(array) {\n//   return array\n//     .map(\n//       book => `<div class=\"book-card-container\"><img class=\"book-card-img\" src=\"${bookdata.book_image}\" alt=\"\" />\n//                 <h2 class=\"book-card-title\">${bookdata.title}</h2>\n//                 <p class=\"book-card-author\">${bookdata.author}</p></div>`\n//     )\n//     .join('');\n// }\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, createUserWithEmailAndPassword } from 'firebase/auth';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: 'AIzaSyA3hADlXiNs1sXdUxR8pbsxRLOErTEmqfU',\n  authDomain: 'authorisation-3967f.firebaseapp.com',\n  projectId: 'authorisation-3967f',\n  storageBucket: 'authorisation-3967f.appspot.com',\n  messagingSenderId: '926560198246',\n  appId: '1:926560198246:web:e18f20ad2d2adfa37e97a7',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nconst auth = getAuth(app);\n\nconst signUpForm = document.querySelector('#signup-form');\n\nsignUpForm.addEventListener('submit', signUp);\n\nfunction signUp(event) {\n  event.preventDefault();\n  const name = document.getElementById('signup-name').value;\n  const email = document.getElementById('signup-email').value;\n  const password = document.getElementById('signup-password').value;\n\n  createUserWithEmailAndPassword(auth,name, email, password)\n    .then(userCredential => {\n      // Signed up successfully\n      const user = userCredential.user;\n      console.log('Signed up:', user);\n    })\n    .catch(error => {\n      // Handle sign-up errors\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.error('Sign up error:', errorMessage);\n    });\n}\n"],"names":["CONSTANTS","urlCreator","url","category","axios","booksSection","bookShelfContainer","markupPopularBooks","data","createBookShelf","container","index","categoryData","fillBookShelf","e","item","error","array","book","bookdata","innerIndex","numElements","isMarked","isDisplayed","firebaseConfig","app","initializeApp","auth","getAuth","signUpForm","signUp","event","name","email","createUserWithEmailAndPassword","userCredential","user","errorMessage"],"mappings":"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"}